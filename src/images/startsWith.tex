\input{_header.tex}

\matrix (A) [collection, name prefix=a] {
  \node (1)   {$a_1$}; &
  \node (2)   {$a_2$}; &
  \node (3)   {$a_3$}; &
  \node (4)   {$a_4$}; &
  \node (5)   {$a_5$}; &
  \ellipsis            &
  \node (n)   {$a_n$}; \\
};

\matrix [collection, below of=A, matrix anchor=b2.west, node distance=3cm] at (a2.west) {
  \node (b2) {$a_2$}; &
  \node (b3) {$a_3$}; &
  \node (b4) {$a_4$}; \\
};

\begin{scope}
  \tikzstyle{every path}=[Latex-Latex]
  \tikzstyle{every node}=[arrow label]
  \draw (a2) -- node {== \true} (b2);
  \draw (a3) -- node {== \true} (b3);
  \draw (a4) -- node (p4) {== \true} (b4);
\end{scope}

\node (B) [elem, right=5cm of p4] {\true};
\draw [arrow] (p4) -- (B);

\toppointer{a2.north}{offset}

\input{_footer.tex}
